<div class="student-invitation-block">
    {{! HEADER }}
    <div class="student-path-header text-center mb-3">
        {{#is_completed}}
            <div style="position: relative; display: inline-block; line-height: 0;">
                <img class="student-path-icon" src="{{icon_url}}" alt="Icon" style="width: 4em; height: 4em; vertical-align: middle; display: block;" />
                <i class="fa fa-check" style="position: absolute; top: -6px; right: -9px; font-size: 1.4em; background: white; border-radius: 50%; line-height: 1;"></i>
            </div>
            <h6 class="student-path-title mt-2 mb-1">{{str_profile_completed}}</h6>
            <small class="text-muted">{{str_profile_completed_small}}</small>
        {{/is_completed}}
        {{^is_completed}}
            <img class="student-path-icon" src="{{icon_url}}" alt="Icon" style="width: 4em; height: 4em; vertical-align: middle; display: block; margin: 0 auto;" />
            <h6 class="mt-2 mb-1 font-weight-bold">{{str_pluginname}}</h6>
            <small class="text-muted">{{str_discover_path}}</small>
        {{/is_completed}}
    </div>

    {{! DESCRIPTION / INFO / PROGRESS BAR }}
    {{^is_completed}}
        {{#in_progress}}
            {{#show_descriptions}}
            <div class="student-path-description mb-3" style="background: white; padding: 10px 12px; border-radius: 5px; border-left: 3px solid #9c27b0;">
                <small class="text-muted" style="line-height: 1.5;">
                    <i class="fa fa-info-circle text-info"></i> 
                    {{{str_student_path_intro}}}
                </small>
            </div>
            {{/show_descriptions}}
            
            <div class="student-path-progress mb-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <span class="small font-weight-bold">{{str_in_progress}}</span>
                    <span class="small text-muted">{{filled_count}}/{{total_fields}}</span>
                </div>
                <div class="progress mb-2" style="height: 8px; background-color: #f3e5f5;">
                    <div class="progress-bar" style="width: {{percentage}}%; background: linear-gradient(90deg, #9c27b0, #764ba2) !important;"></div>
                </div>
                <small class="text-muted">{{percentage_formatted}}% {{str_completed}}</small>
            </div>
        {{/in_progress}}
        {{^in_progress}}
            {{#show_descriptions}}
            <div class="student-path-description mb-3">
                <div class="card" style="border-color: #764ba2;">
                    <div class="card-body p-3">
                        <h6 class="card-title font-weight-bold">
                            <i class="fa fa-info-circle" style="color: #764ba2;"></i> 
                            {{str_for_what_map}}
                        </h6>
                        <p class="card-text small mb-2">{{{str_student_path_intro}}}</p>
                        <ul class="list-unstyled small mb-0">
                            <li><i class="fa fa-check text-success"></i> {{{str_for_what_map_one}}}</li>
                            <li><i class="fa fa-check text-success"></i> {{{str_for_what_map_two}}}</li>
                            <li><i class="fa fa-check text-success"></i> {{{str_for_what_map_three}}}</li>
                        </ul>
                    </div>
                </div>
            </div>
            {{/show_descriptions}}
        {{/in_progress}}
    {{/is_completed}}

    {{#is_completed}}
        {{#show_descriptions}}
        <div class="student-path-description mb-3" style="background: #f8f9fa; padding: 10px 12px; border-radius: 5px; border-left: 3px solid #9c27b0;">
            <small class="text-muted" style="line-height: 1.5;">
                <i class="fa fa-info-circle text-info"></i> 
                {{{str_student_path_intro}}}
            </small>
        </div>
        {{/show_descriptions}}

        <div class="student-path-card">
            <div class="card-title"><i class="fa fa-user-circle mr-2"></i> {{str_student_path_title}}</div>
            <ul class="info-list">
                <li><i class="fa fa-user text-muted"></i> <strong class="label">{{str_name}}:</strong> {{user_fullname}}</li>
                <li><i class="fa fa-graduation-cap text-muted"></i> <strong class="label">{{str_program}}:</strong> {{program_display}}</li>
                <li><i class="fa fa-calendar text-muted"></i> <strong class="label">{{str_admission_year}}:</strong> {{admission_year}}</li>
            </ul>
        </div>
    {{/is_completed}}

    {{! BUTTON }}
    <div class="student-path-actions text-center">
        <a href="{{action_url}}" class="btn {{btn_class}} btn-sm">
            <i class="fa {{btn_icon}}"></i> <span>{{btn_text}}</span>
        </a>
    </div>
</div>
